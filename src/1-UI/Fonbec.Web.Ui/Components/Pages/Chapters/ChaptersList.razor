@attribute [Route(NavRoutes.Chapters)]
@attribute [Authorize(Policy = nameof(ChaptersList))]

<PageTitle>Filiales</PageTitle>

<MudText Typo="Typo.h3" GutterBottom="true">Filiales</MudText>

<MudTable Items="_viewModel" Hover="true" Striped="true" Dense="true">
    <HeaderContent>
        <MudTh>Nombre</MudTh>
    </HeaderContent>
    <RowTemplate>
        <MudTd DataLabel="Nombre">
            <AuditableItemDisplay Id="@context.ChapterId"
                                  ItemName="@context.ChapterName"
								  IsActive="@context.IsChapterActive"
                                  AuditableViewModel="@context" />
        </MudTd>
    </RowTemplate>
</MudTable>

<AuthorizeView Policy="@nameof(CreateChapter)">
	<CreateChapter OnChapterCreated="RefreshChapters"/>
</AuthorizeView>